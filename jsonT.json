{
    "openapi": "3.0.0",
    "info": {
        "title": "ORI",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://generic-ori.com"
        }
    ],
    "paths": {
        "/tasks": {
            "post": {
                "summary": "Creates new task",
                "operationId": "createTask",
                "requestBody": {
                    "description": "Contains task parameters",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/TaskParameters"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful response containing selected data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TaskResult"
                                }
                            }
                        }
                    },
                    "201": {
                        "description": "Successful response containing registered task id",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "taskId": {
                                            "$ref": "#/components/schemas/TaskId"
                                        }
                                    }
                                }
                            },
                            "text/plain": {
                                "schema": {
                                    "$ref": "#/components/schemas/TaskId"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "summary": "Returns registred task status array",
                "operationId": "getTasks",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/TaskStatus"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/tasks/{taskId}": {
            "get": {
                "summary": "Returns task status",
                "operationId": "getTask",
                "responses": {
                    "200": {
                        "description": "Successful response containing task status",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TaskStatus"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "summary": "Deletes task",
                "operationId": "deleteTask",
                "responses": {
                    "204": {
                        "description": "Successful response"
                    }
                }
            },
            "parameters": [
                {
                    "name": "taskId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/TaskId"
                    }
                }
            ]
        },
        "/tasks/{taskId}/result": {
            "get": {
                "summary": "Returns prepared result",
                "operationId": "getTaskResult",
                "responses": {
                    "200": {
                        "description": "Successful response containing prepared result",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TaskResult"
                                }
                            },
                            "application/octet-stream": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "taskId",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/TaskId"
                    }
                },
                {
                    "name": "from",
                    "in": "query",
                    "schema": {
                        "type": "integer"
                    },
                    "description": "First record to return"
                },
                {
                    "name": "to",
                    "in": "query",
                    "schema": {
                        "type": "integer"
                    },
                    "description": "Last record to return"
                }
            ]
        }
    },
    "components": {
        "schemas": {
            "TaskStatus": {
                "type": "object",
                "properties": {
                    "ready": {
                        "type": "boolean"
                    },
                    "result": {
                        "$ref": "#/components/schemas/TaskStatusResult"
                    }
                },
                "required": [
                    "ready"
                ]
            },
            "TaskStatusResult": {
                "oneOf": [
                    {
                        "$ref": "#/components/schemas/TaskStatusResultOk"
                    },
                    {
                        "$ref": "#/components/schemas/TaskStatusResultError"
                    }
                ],
                "discriminator": {
                    "propertyName": "successful",
                    "mapping": {
                        "true": "#/components/schemas/TaskStatusResultOk",
                        "false": "#/components/schemas/TaskStatusResultError"
                    }
                }
            },
            "TaskStatusResultOk": {
                "oneOf": [
                    {
                        "$ref": "#/components/schemas/TaskStatusResultOkStatisticRecords"
                    },
                    {
                        "$ref": "#/components/schemas/TaskStatusResultOkContentFile"
                    }
                ],
                "discriminator": {
                    "propertyName": "type",
                    "mapping": {
                        "statistic_records": "#/components/schemas/TaskStatusResultOkStatisticRecords",
                        "content_file": "#/components/schemas/TaskStatusResultOkContentFile"
                    }
                }
            },
            "TaskStatusResultOkStatisticRecords": {
                "description": "Number of prepared statistic records",
                "type": "object",
                "properties": {
                    "records": {
                        "type": "number",
                        "minimum": 0
                    }
                },
                "required": [
                    "records"
                ]
            },
            "TaskStatusResultOkContentFile": {
                "description": "Prepared file size in bytes",
                "type": "object",
                "properties": {
                    "bytes": {
                        "type": "number",
                        "minimum": 0
                    }
                },
                "required": [
                    "bytes"
                ]
            },
            "TaskStatusResultError": {
                "type": "object",
                "properties": {
                    "message": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 256
                    }
                }
            },
            "TaskParameters": {
                "oneOf": [
                    {
                        "$ref": "#/components/schemas/StatisticParameters"
                    },
                    {
                        "$ref": "#/components/schemas/ContentParameters"
                    }
                ],
                "discriminator": {
                    "propertyName": "requestType",
                    "mapping": {
                        "statistic": "#/components/schemas/StatisticParameters",
                        "content": "#/components/schemas/ContentParameters"
                    }
                }
            },
            "StatisticParameters": {
                "type": "object",
                "properties": {
                    "requestType": {
                        "type": "string"
                    },
                    "telcoIds": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/TelcoId"
                        }
                    },
                    "findRange": {
                        "type": "object",
                        "properties": {
                            "begin": {
                                "$ref": "#/components/schemas/DateTime"
                            },
                            "end": {
                                "$ref": "#/components/schemas/DateTime"
                            }
                        },
                        "required": [
                            "begin",
                            "end"
                        ]
                    },
                    "taskType": {
                        "enum": [
                            "abonents",
                            "connections",
                            "aaa",
                            "links",
                            "certs",
                            "keys"
                        ]
                    },
                    "parameters": {
                        "$ref": "#/components/schemas/StatisticParameter"
                    }
                },
                "required": [
                    "requestType",
                    "parameters"
                ]
            },
            "StatisticParameter": {
                "oneOf": [
                    {
                        "$ref": "#/components/schemas/LogicalNot"
                    },
                    {
                        "$ref": "#/components/schemas/LogicalAnd"
                    },
                    {
                        "$ref": "#/components/schemas/LogicalOr"
                    },
                    {
                        "$ref": "#/components/schemas/SimpleParameter"
                    }
                ]
            },
            "LogicalNot": {
                "type": "object",
                "properties": {
                    "not": {
                        "$ref": "#/components/schemas/StatisticParameter"
                    }
                },
                "required": [
                    "not"
                ]
            },
            "LogicalAnd": {
                "type": "object",
                "properties": {
                    "and": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/StatisticParameter"
                        }
                    }
                },
                "required": [
                    "and"
                ]
            },
            "LogicalOr": {
                "type": "object",
                "properties": {
                    "or": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/StatisticParameter"
                        }
                    }
                },
                "required": [
                    "or"
                ]
            },
            "SimpleParameter": {
                "type": "object",
                "properties": {
                    "parameter": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/RequestAbonents"
                            },
                            {
                                "$ref": "#/components/schemas/RequestConnections"
                            },
                            {
                                "$ref": "#/components/schemas/RequestAaa"
                            },
                            {
                                "$ref": "#/components/schemas/RequestLinks"
                            },
                            {
                                "$ref": "#/components/schemas/RequestCerts"
                            },
                            {
                                "$ref": "#/components/schemas/RequestKeys"
                            }
                        ]
                    }
                },
                "required": [
                    "parameter"
                ]
            },
            "RequestAbonents": {
                "type": "object",
                "properties": {
                    "value": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/UserId"
                            },
                            {
                                "$ref": "#/components/schemas/NickName"
                            },
                            {
                                "$ref": "#/components/schemas/GivenName"
                            },
                            {
                                "$ref": "#/components/schemas/InitialName"
                            },
                            {
                                "$ref": "#/components/schemas/FamilyName"
                            },
                            {
                                "$ref": "#/components/schemas/AddressData"
                            },
                            {
                                "$ref": "#/components/schemas/PassportData"
                            },
                            {
                                "$ref": "#/components/schemas/Msisdn"
                            },
                            {
                                "$ref": "#/components/schemas/Email"
                            },
                            {
                                "$ref": "#/components/schemas/ImId"
                            },
                            {
                                "$ref": "#/components/schemas/Contract"
                            }
                        ],
                        "discriminator": {
                            "propertyName": "type",
                            "mapping": {
                                "userId": "#/components/schemas/UserId",
                                "nickName": "#/components/schemas/NickName",
                                "givenName": "#/components/schemas/GivenName",
                                "initialName": "#/components/schemas/InitialName",
                                "familyName": "#/components/schemas/FamilyName",
                                "address": "#/components/schemas/AddressData",
                                "passport": "#/components/schemas/PassportData",
                                "relatives": "#/components/schemas/UserId",
                                "msisdn": "#/components/schemas/Msisdn",
                                "email": "#/components/schemas/Email",
                                "imId": "#/components/schemas/ImId",
                                "contract": "#/components/schemas/Contract"
                            }
                        }
                    }
                }
            },
            "RequestConnections": {
                "type": "object",
                "properties": {
                    "value": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/ServiceId"
                            },
                            {
                                "$ref": "#/components/schemas/UserId"
                            },
                            {
                                "$ref": "#/components/schemas/IpPort"
                            },
                            {
                                "$ref": "#/components/schemas/Msisdn"
                            },
                            {
                                "$ref": "#/components/schemas/Email"
                            },
                            {
                                "$ref": "#/components/schemas/Programm"
                            },
                            {
                                "$ref": "#/components/schemas/MiscInfo"
                            },
                            {
                                "$ref": "#/components/schemas/Location"
                            },
                            {
                                "$ref": "#/components/schemas/ResourceName"
                            },
                            {
                                "$ref": "#/components/schemas/EventId"
                            },
                            {
                                "$ref": "#/components/schemas/String"
                            },
                            {
                                "$ref": "#/components/schemas/PaymentId"
                            },
                            {
                                "$ref": "#/components/schemas/PaymentInfo"
                            }
                        ],
                        "discriminator": {
                            "propertyName": "type",
                            "mapping": {
                                "serviceId": "#/components/schemas/ServiceId",
                                "abonentId": "#/components/schemas/UserId",
                                "abonentIpPort": "#/components/schemas/IpPort",
                                "abonentMsisdn": "#/components/schemas/Msisdn",
                                "abonentEmail": "#/components/schemas/Email",
                                "abonentProgramm": "#/components/schemas/Programm",
                                "abonentMiscInfo": "#/components/schemas/MiscInfo",
                                "abonentLocation": "#/components/schemas/Location",
                                "contactId": "#/components/schemas/UserId",
                                "resourceName": "#/components/schemas/ResourceName",
                                "eventId": "#/components/schemas/EventId",
                                "ownerId": "#/components/schemas/UserId",
                                "text": "#/components/schemas/String",
                                "paymentId": "#/components/schemas/PaymentId",
                                "paymentInfo": "#/components/schemas/PaymentInfo"
                            }
                        }
                    }
                }
            },
            "RequestAaa": {
                "type": "object",
                "properties": {
                    "value": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/ServiceId"
                            },
                            {
                                "$ref": "#/components/schemas/UserId"
                            },
                            {
                                "$ref": "#/components/schemas/IpPort"
                            },
                            {
                                "$ref": "#/components/schemas/Msisdn"
                            },
                            {
                                "$ref": "#/components/schemas/Email"
                            },
                            {
                                "$ref": "#/components/schemas/Programm"
                            },
                            {
                                "$ref": "#/components/schemas/MiscInfo"
                            },
                            {
                                "$ref": "#/components/schemas/Location"
                            },
                            {
                                "$ref": "#/components/schemas/EventId"
                            }
                        ],
                        "discriminator": {
                            "propertyName": "type",
                            "mapping": {
                                "serviceId": "#/components/schemas/ServiceId",
                                "userId": "#/components/schemas/UserId",
                                "userIpPort": "#/components/schemas/IpPort",
                                "userMsisdn": "#/components/schemas/Msisdn",
                                "userEmail": "#/components/schemas/Email",
                                "userProgramm": "#/components/schemas/Programm",
                                "userMiscInfo": "#/components/schemas/MiscInfo",
                                "userLocation": "#/components/schemas/Location",
                                "eventId": "#/components/schemas/EventId"
                            }
                        }
                    }
                }
            },
            "RequestLinks": {
                "type": "object",
                "properties": {
                    "value": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/UserId"
                            },
                            {
                                "$ref": "#/components/schemas/ResourceName"
                            }
                        ],
                        "discriminator": {
                            "propertyName": "type",
                            "mapping": {
                                "userIdA": "#/components/schemas/UserId",
                                "userIdB": "#/components/schemas/UserId",
                                "resourceName": "#/components/schemas/ResourceName"
                            }
                        }
                    }
                }
            },
            "RequestCerts": {
                "type": "object",
                "properties": {
                    "type": {
                        "enum": [
                            "client",
                            "server"
                        ]
                    },
                    "value": {
                        "$ref": "#/components/schemas/IpPort"
                    }
                }
            },
            "RequestKeys": {
                "type": "object",
                "properties": {
                    "value": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/IpPort"
                            },
                            {
                                "$ref": "#/components/schemas/Integer"
                            },
                            {
                                "$ref": "#/components/schemas/Sni"
                            },
                            {
                                "$ref": "#/components/schemas/UserId"
                            },
                            {
                                "$ref": "#/components/schemas/UserLogin"
                            },
                            {
                                "$ref": "#/components/schemas/Region"
                            },
                            {
                                "$ref": "#/components/schemas/ServiceName"
                            }
                        ],
                        "discriminator": {
                            "propertyName": "type",
                            "mapping": {
                                "client": "#/components/schemas/IpPort",
                                "server": "#/components/schemas/IpPort",
                                "asServer": "#/components/schemas/Integer",
                                "asClient": "#/components/schemas/Integer",
                                "sni": "#/components/schemas/Sni",
                                "userId": "#/components/schemas/UserId",
                                "userLogin": "#/components/schemas/UserLogin",
                                "clientRegion": "#/components/schemas/Region",
                                "serverRegion": "#/components/schemas/Region",
                                "serviceName": "#/components/schemas/ServiceName"
                            }
                        }
                    }
                }
            },
            "ContentParameters": {
                "type": "object",
                "properties": {
                    "requestType": {
                        "type": "string"
                    },
                    "telcoIds": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/TelcoId"
                        }
                    },
                    "parameters": {
                        "type": "object",
                        "properties": {
                            "streamId": {
                                "$ref": "#/components/schemas/StreamId"
                            },
                            "beginOffset": {
                                "type": "integer"
                            },
                            "endOffset": {
                                "type": "integer"
                            }
                        },
                        "required": [
                            "streamId"
                        ]
                    }
                },
                "required": [
                    "requestType",
                    "parameters"
                ]
            },
            "TaskResult": {
                "type": "array",
                "items": {
                    "oneOf": [
                        {
                            "$ref": "#/components/schemas/RecordAbonent"
                        },
                        {
                            "$ref": "#/components/schemas/RecordConnection"
                        },
                        {
                            "$ref": "#/components/schemas/RecordAaa"
                        },
                        {
                            "$ref": "#/components/schemas/RecordLink"
                        },
                        {
                            "$ref": "#/components/schemas/RecordCert"
                        },
                        {
                            "$ref": "#/components/schemas/RecordKey"
                        }
                    ]
                }
            },
            "RecordAbonent": {
                "type": "object",
                "properties": {
                    "telcoId": {
                        "$ref": "#/components/schemas/TelcoId"
                    },
                    "userIdentifier": {
                        "$ref": "#/components/schemas/UserIdentifier"
                    },
                    "userRegistered": {
                        "$ref": "#/components/schemas/DateTime"
                    },
                    "nickName": {
                        "$ref": "#/components/schemas/NickName"
                    },
                    "birthDate": {
                        "$ref": "#/components/schemas/Date"
                    },
                    "address": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/AddressData"
                            },
                            {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 1024
                            }
                        ]
                    },
                    "name": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/NameData"
                            },
                            {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 1024
                            }
                        ]
                    },
                    "passport": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/PassportData"
                            },
                            {
                                "type": "string",
                                "minLength": 1,
                                "maxLength": 1024
                            }
                        ]
                    },
                    "langs": {
                        "type": "array",
                        "items": {
                            "type": "string",
                            "minLength": 1,
                            "maxLength": 64
                        }
                    },
                    "msisdn": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Msisdn"
                        }
                    },
                    "relatives": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/UserId"
                        }
                    },
                    "email": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Email"
                        }
                    },
                    "imIdentifier": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/ImIdentifier"
                        }
                    },
                    "userUpdatedDT": {
                        "$ref": "#/components/schemas/DateTime"
                    },
                    "userUnregisteredDT": {
                        "$ref": "#/components/schemas/DateTime"
                    },
                    "contractRegisteredDT": {
                        "$ref": "#/components/schemas/DateTime"
                    },
                    "contract": {
                        "$ref": "#/components/schemas/Contract"
                    },
                    "additional": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "title": {
                                    "description": "наименование о дополнительных сведениях",
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 128
                                },
                                "content": {
                                    "description": "содержание дополнительных сведений",
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 4096
                                }
                            },
                            "required": [
                                "title",
                                "content"
                            ]
                        }
                    }
                },
                "required": [
                    "telcoId",
                    "userIdentifier",
                    "userRegistered"
                ]
            },
            "RecordConnection": {
                "type": "object",
                "properties": {
                    "telcoId": {
                        "$ref": "#/components/schemas/TelcoId"
                    },
                    "arrivedDT": {
                        "$ref": "#/components/schemas/DateTime"
                    },
                    "connectionDT": {
                        "$ref": "#/components/schemas/DateTime"
                    },
                    "serviceId": {
                        "$ref": "#/components/schemas/ServiceId"
                    },
                    "abonent": {
                        "$ref": "#/components/schemas/UserIdentifier"
                    },
                    "abonentIpPort": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/IpPort"
                        }
                    },
                    "abonentMsisdn": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Msisdn"
                        }
                    },
                    "abonentEmail": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Email"
                        }
                    },
                    "abonentProgramm": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Programm"
                        }
                    },
                    "abonentMiscInfo": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/MiscInfo"
                        }
                    },
                    "eventId": {
                        "$ref": "#/components/schemas/EventId"
                    },
                    "contacts": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/UserIdentifier"
                        }
                    },
                    "location": {
                        "$ref": "#/components/schemas/Location"
                    },
                    "resourceIdentifier": {
                        "$ref": "#/components/schemas/ResourceIdentifier"
                    },
                    "resourceMetadata": {
                        "oneOf": [
                            {
                                "type": "array",
                                "items": {
                                    "description": "техническая информация о файловых данных",
                                    "type": "object",
                                    "properties": {
                                        "filename": {
                                            "type": "string",
                                            "minLength": 1,
                                            "maxLength": 256
                                        },
                                        "filesize": {
                                            "$ref": "#/components/schemas/Integer"
                                        }
                                    },
                                    "required": [
                                        "filename",
                                        "filesize"
                                    ]
                                }
                            },
                            {
                                "description": "техническая информация о потоковых данных",
                                "type": "object",
                                "properties": {
                                    "timestamp": {
                                        "$ref": "#/components/schemas/DateTime"
                                    },
                                    "duration": {
                                        "$ref": "#/components/schemas/Integer"
                                    },
                                    "startOffset": {
                                        "$ref": "#/components/schemas/Integer"
                                    },
                                    "StopOffset": {
                                        "$ref": "#/components/schemas/Integer"
                                    }
                                }
                            }
                        ]
                    },
                    "owner": {
                        "$ref": "#/components/schemas/UserIdentifier"
                    },
                    "text": {
                        "$ref": "#/components/schemas/String"
                    },
                    "payment": {
                        "$ref": "#/components/schemas/PaymentData"
                    },
                    "streamId": {
                        "$ref": "#/components/schemas/StreamId"
                    }
                },
                "required": [
                    "telcoId",
                    "arrivedDT",
                    "connectionDT",
                    "serviceId",
                    "abonent",
                    "eventId",
                    "contacts"
                ]
            },
            "RecordAaa": {
                "type": "object",
                "properties": {
                    "telcoId": {
                        "$ref": "#/components/schemas/TelcoId"
                    },
                    "arrivedDT": {
                        "$ref": "#/components/schemas/DateTime"
                    },
                    "connectionDT": {
                        "$ref": "#/components/schemas/DateTime"
                    },
                    "serviceId": {
                        "$ref": "#/components/schemas/ServiceId"
                    },
                    "abonent": {
                        "$ref": "#/components/schemas/UserIdentifier"
                    },
                    "abonentIpPort": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/IpPort"
                        }
                    },
                    "abonentMsisdn": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Msisdn"
                        }
                    },
                    "abonentEmail": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Email"
                        }
                    },
                    "abonentProgramm": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Programm"
                        }
                    },
                    "abonentMiscInfo": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/MiscInfo"
                        }
                    },
                    "eventId": {
                        "$ref": "#/components/schemas/EventId"
                    },
                    "location": {
                        "$ref": "#/components/schemas/Location"
                    }
                },
                "required": [
                    "telcoId",
                    "arrivedDT",
                    "connectionDT",
                    "serviceId",
                    "abonent",
                    "eventId"
                ]
            },
            "RecordLink": {
                "type": "object",
                "properties": {
                    "telcoId": {
                        "$ref": "#/components/schemas/TelcoId"
                    },
                    "arrivedDT": {
                        "$ref": "#/components/schemas/DateTime"
                    },
                    "connectionDT": {
                        "$ref": "#/components/schemas/DateTime"
                    },
                    "serviceId": {
                        "$ref": "#/components/schemas/ServiceId"
                    },
                    "abonent": {
                        "$ref": "#/components/schemas/UserIdentifier"
                    },
                    "eventId": {
                        "$ref": "#/components/schemas/EventId"
                    },
                    "linked": {
                        "$ref": "#/components/schemas/LinkedIdentifier"
                    }
                },
                "required": [
                    "telcoId",
                    "arrivedDT",
                    "connectionDT",
                    "serviceId",
                    "abonent",
                    "eventId",
                    "linked"
                ]
            },
            "RecordCert": {
                "type": "object",
                "properties": {
                    "telcoId": {
                        "$ref": "#/components/schemas/TelcoId"
                    },
                    "arrivedDT": {
                        "$ref": "#/components/schemas/DateTime"
                    },
                    "fromDT": {
                        "$ref": "#/components/schemas/DateTime"
                    },
                    "toDT": {
                        "$ref": "#/components/schemas/DateTime"
                    },
                    "client": {
                        "$ref": "#/components/schemas/IpPort"
                    },
                    "server": {
                        "$ref": "#/components/schemas/IpPort"
                    },
                    "clientRandom": {
                        "$ref": "#/components/schemas/OctetString"
                    },
                    "preMasterKey": {
                        "$ref": "#/components/schemas/OctetString"
                    },
                    "serverRandom": {
                        "$ref": "#/components/schemas/OctetString"
                    }
                },
                "required": [
                    "telcoId",
                    "arrivedDT",
                    "fromDT",
                    "client",
                    "server",
                    "clientRandom",
                    "preMasterKey"
                ]
            },
            "RecordKey": {
                "type": "object",
                "properties": {
                    "telcoId": {
                        "$ref": "#/components/schemas/TelcoId"
                    },
                    "arrivedDT": {
                        "$ref": "#/components/schemas/DateTime"
                    },
                    "fromDT": {
                        "$ref": "#/components/schemas/DateTime"
                    },
                    "toDT": {
                        "$ref": "#/components/schemas/DateTime"
                    },
                    "client": {
                        "$ref": "#/components/schemas/IpPort"
                    },
                    "server": {
                        "$ref": "#/components/schemas/IpPort"
                    },
                    "asClient": {
                        "$ref": "#/components/schemas/Integer"
                    },
                    "asServer": {
                        "$ref": "#/components/schemas/Integer"
                    },
                    "clientRandom": {
                        "$ref": "#/components/schemas/OctetString"
                    },
                    "preMasterKey": {
                        "$ref": "#/components/schemas/OctetString"
                    },
                    "serverRandom": {
                        "$ref": "#/components/schemas/OctetString"
                    },
                    "sni": {
                        "$ref": "#/components/schemas/Sni"
                    },
                    "userId": {
                        "$ref": "#/components/schemas/UserId"
                    },
                    "userLogin": {
                        "$ref": "#/components/schemas/UserLogin"
                    },
                    "keyExchange": {
                        "$ref": "#/components/schemas/KeyExchange"
                    },
                    "chipherSuite": {
                        "$ref": "#/components/schemas/Integer"
                    },
                    "clientRegion": {
                        "$ref": "#/components/schemas/Region"
                    },
                    "serverRegion": {
                        "$ref": "#/components/schemas/Region"
                    },
                    "serviceName": {
                        "$ref": "#/components/schemas/ServiceName"
                    }
                },
                "required": [
                    "telcoId",
                    "arrivedDT",
                    "fromDT",
                    "client",
                    "server",
                    "clientRandom",
                    "preMasterKey"
                ]
            },
            "TaskId": {
                "description": "идентификатор задачи",
                "type": "string",
                "minLength": 1,
                "maxLength": 64
            },
            "TelcoId": {
                "description": "филиал ОРИ, обслуживаемый ТС ОРМ (расшифровывается по справочнику)",
                "type": "integer",
                "minimum": 0,
                "maximum": 65535
            },
            "ServiceId": {
                "description": "идентификатор сервиса (расшифровывается по справочнику)",
                "type": "integer",
                "minimum": 0,
                "maximum": 65535
            },
            "UserIdentifier": {
                "type": "object",
                "properties": {
                    "userId": {
                        "$ref": "#/components/schemas/UserId"
                    },
                    "userType": {
                        "description": "тип пользователя (расшифровывается по справочнику)",
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 65535
                    }
                },
                "required": [
                    "userId",
                    "userType"
                ]
            },
            "UserId": {
                "description": "идентификатор пользователя",
                "type": "string",
                "minLength": 1,
                "maxLength": 128
            },
            "ResourceIdentifier": {
                "type": "object",
                "properties": {
                    "resourceName": {
                        "$ref": "#/components/schemas/ResourceName"
                    },
                    "resourceType": {
                        "description": "тип ресурса (расшифровывается по справочнику)",
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 65535
                    }
                },
                "required": [
                    "resourceName"
                ]
            },
            "ResourceName": {
                "description": "наименование ресурса",
                "type": "string",
                "minLength": 1,
                "maxLength": 4096
            },
            "LinkedIdentifier": {
                "type": "object",
                "properties": {
                    "user": {
                        "$ref": "#/components/schemas/UserIdentifier"
                    },
                    "resource": {
                        "$ref": "#/components/schemas/ResourceIdentifier"
                    }
                },
                "required": [
                    "user",
                    "resource"
                ]
            },
            "NickName": {
                "description": "псевдоним пользователя",
                "type": "string",
                "minLength": 1,
                "maxLength": 1024
            },
            "NameData": {
                "type": "object",
                "properties": {
                    "given": {
                        "$ref": "#/components/schemas/GivenName"
                    },
                    "initial": {
                        "$ref": "#/components/schemas/InitialName"
                    },
                    "family": {
                        "$ref": "#/components/schemas/FamilyName"
                    }
                }
            },
            "GivenName": {
                "description": "имя",
                "type": "string",
                "minLength": 1,
                "maxLength": 128
            },
            "InitialName": {
                "description": "отчество",
                "type": "string",
                "minLength": 1,
                "maxLength": 128
            },
            "FamilyName": {
                "description": "фамилия",
                "type": "string",
                "minLength": 1,
                "maxLength": 128
            },
            "AddressData": {
                "type": "object",
                "properties": {
                    "country": {
                        "description": "страна",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 128
                    },
                    "region": {
                        "description": "область",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 128
                    },
                    "city": {
                        "description": "город, поселок, деревня, населенный пункт",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 128
                    },
                    "street": {
                        "description": "улица",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 128
                    },
                    "building": {
                        "description": "дом, строение",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 128
                    },
                    "apartment": {
                        "description": "квартира, офис",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 128
                    }
                }
            },
            "PassportData": {
                "type": "object",
                "properties": {
                    "serial": {
                        "description": "серия",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 16
                    },
                    "number": {
                        "description": "номер",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 16
                    }
                }
            },
            "IpPort": {
                "type": "object",
                "properties": {
                    "address": {
                        "oneOf": [
                            {
                                "type": "string",
                                "format": "ipv4"
                            },
                            {
                                "type": "string",
                                "format": "ipv6"
                            }
                        ]
                    },
                    "port": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 65535
                    }
                }
            },
            "Msisdn": {
                "description": "номер телефона",
                "type": "string",
                "minLength": 1,
                "maxLength": 64
            },
            "Email": {
                "description": "электронный адрес почты",
                "type": "string",
                "format": "email",
                "minLength": 1,
                "maxLength": 256
            },
            "ImIdentifier": {
                "type": "object",
                "properties": {
                    "imId": {
                        "$ref": "#/components/schemas/ImId"
                    },
                    "imName": {
                        "description": "наименование мессанджера",
                        "type": "string"
                    }
                }
            },
            "ImId": {
                "description": "идентификатор пользователя в мессанджере",
                "type": "string",
                "minLength": 1,
                "maxLength": 256
            },
            "Programm": {
                "description": "нименование программы-клиента",
                "type": "string",
                "minLength": 1,
                "maxLength": 1024
            },
            "MiscInfo": {
                "description": "прочая информация",
                "type": "string",
                "minLength": 1,
                "maxLength": 1024
            },
            "Contract": {
                "description": "номер договора",
                "type": "string",
                "minLength": 1,
                "maxLength": 64
            },
            "Location": {
                "anyOf": [
                    {
                        "$ref": "#/components/schemas/MobileLocation"
                    },
                    {
                        "$ref": "#/components/schemas/GeoLocation"
                    },
                    {
                        "description": "неструктурированное описание местоположения",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 4096
                    }
                ]
            },
            "MobileLocation": {
                "type": "object",
                "properties": {
                    "mcc": {
                        "description": "код страны оператора связи",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 4
                    },
                    "mnc": {
                        "description": "код оператора связи",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 3
                    },
                    "lac": {
                        "description": "LAC оператора связи",
                        "type": "integer",
                        "minLength": 1,
                        "maxLength": 65535
                    },
                    "cell": {
                        "description": "CELL оператора связи",
                        "type": "integer",
                        "minLength": 1,
                        "maxLength": 4294967295
                    },
                    "operator": {
                        "description": "наименование оператора связи",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 64
                    }
                }
            },
            "GeoLocation": {
                "type": "object",
                "properties": {
                    "latitude": {
                        "description": "широта",
                        "type": "number"
                    },
                    "longitude": {
                        "description": "долгота",
                        "type": "number"
                    }
                },
                "required": [
                    "latitude",
                    "longitude"
                ]
            },
            "EventId": {
                "description": "тип события (расшифровывается по справочнику)",
                "type": "integer",
                "minimum": 0,
                "maximum": 65535
            },
            "PaymentData": {
                "type": "object",
                "properties": {
                    "id": {
                        "$ref": "#/components/schemas/PaymentId"
                    },
                    "serviceId": {
                        "description": "идентификатор платежного сервиса (расшифровывается по справочнику)",
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 65535
                    },
                    "info": {
                        "$ref": "#/components/schemas/PaymentInfo"
                    }
                },
                "required": [
                    "id",
                    "serviceId"
                ]
            },
            "PaymentId": {
                "description": "идентификатор транзакции, счета, кошелька и т.д.",
                "type": "string",
                "minLength": 1,
                "maxLength": 128
            },
            "PaymentInfo": {
                "description": "дополнительная информация",
                "type": "string",
                "minLength": 1,
                "maxLength": 4096
            },
            "Sni": {
                "description": "server name indication",
                "type": "string",
                "minLength": 1,
                "maxLength": 128
            },
            "UserLogin": {
                "description": "пользовательский логин",
                "type": "string",
                "minLength": 1,
                "maxLength": 64
            },
            "KeyExchange": {
                "description": "метод обмена ключами",
                "type": "string",
                "minLength": 1,
                "maxLength": 16
            },
            "Region": {
                "description": "наименование региона",
                "type": "string",
                "minLength": 1,
                "maxLength": 10
            },
            "ServiceName": {
                "description": "имя сервиса",
                "type": "string",
                "minLength": 1,
                "maxLength": 16
            },
            "StreamId": {
                "description": "идентификатор содержимого",
                "type": "string",
                "pattern": "^[[:xdigit:]]{16,16}$"
            },
            "Integer": {
                "type": "integer"
            },
            "String": {
                "type": "string"
            },
            "Date": {
                "type": "string",
                "format": "date"
            },
            "DateTime": {
                "type": "string",
                "format": "date-time"
            },
            "OctetString": {
                "type": "string",
                "pattern": "^[[:xdigit:]]+$"
            }
        }
    }
}
